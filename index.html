<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feliz Aniversário, Meu Amor!mesmo que já tenha passado😓🎂💖</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --dark-pink: #8B1E3F;
            --medium-pink: #B23A48;
            --light-pink: #FCB0B3;
            --dark-bg: #0D0D0D;
            --text-light: #F2F2F2;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--dark-bg);
            color: var(--text-light);
            line-height: 1.6;
            overflow-x: hidden;
            /* Melhorar performance em mobile */
            -webkit-font-smoothing: antialiased;
            -webkit-tap-highlight-color: transparent;
        }

        .photo-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            opacity: 0.2;
            /* Otimização para mobile */
            will-change: transform;
        }

        .photo-slide {
            position: absolute;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 2s ease-in-out;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }

        section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 2rem 0;
            position: relative;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 1s ease, transform 1s ease;
        }

        section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .hero {
            text-align: center;
            background: linear-gradient(135deg, rgba(139, 30, 63, 0.7), rgba(13, 13, 13, 0.9));
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 1rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        h1 {
            font-size: clamp(2.5rem, 8vw, 4rem);
            margin-bottom: 1.5rem;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7);
            background: linear-gradient(to right, var(--light-pink), var(--medium-pink));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        h2 {
            font-size: clamp(1.8rem, 6vw, 2.5rem);
            margin-bottom: 2rem;
            color: var(--light-pink);
            text-align: center;
        }

        .message {
            font-size: clamp(1rem, 4vw, 1.3rem);
            line-height: 1.8;
            margin-bottom: 2rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        .heart {
            position: fixed;
            width: 20px;
            height: 20px;
            background-color: var(--medium-pink);
            transform: rotate(45deg);
            animation: fall linear forwards;
            z-index: -1;
            filter: drop-shadow(0 0 5px rgba(255, 0, 85, 0.5));
            /* Otimização para mobile */
            will-change: transform;
            pointer-events: none;
        }

        .heart:before, .heart:after {
            content: '';
            width: 20px;
            height: 20px;
            background-color: var(--medium-pink);
            border-radius: 50%;
            position: absolute;
        }

        .heart:before {
            top: -10px;
            left: 0;
        }

        .heart:after {
            top: 0;
            left: -10px;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(45deg);
                opacity: 0;
            }
        }

        .interactive-btn {
            background: linear-gradient(to right, var(--dark-pink), var(--medium-pink));
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            /* Melhorar toque em mobile */
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }

        .interactive-btn:hover {
            background: linear-gradient(to right, var(--medium-pink), var(--dark-pink));
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .music-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            left: 20px;
            z-index: 100;
            background: rgba(13, 13, 13, 0.9);
            padding: 15px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }

        .music-info {
            margin-bottom: 10px;
            text-align: center;
        }

        .song-title {
            font-size: 1rem;
            margin-bottom: 5px;
            color: var(--light-pink);
        }

        .time-display {
            font-size: 0.9rem;
            color: #aaa;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            margin: 10px 0;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(to right, var(--dark-pink), var(--medium-pink));
            width: 0%;
            transition: width 0.1s linear;
        }

        .hidden-message {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: rgba(139, 30, 63, 0.2);
            border-radius: 15px;
            animation: fadeIn 1s;
            border-left: 4px solid var(--medium-pink);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .photo-frame {
            width: 250px;
            height: 250px;
            margin: 20px auto;
            border-radius: 50%;
            overflow: hidden;
            border: 8px solid rgba(178, 58, 72, 0.5);
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
            animation: pulse 4s infinite;
        }

        .photo-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .photo-frame:hover img {
            transform: scale(1.1);
        }

        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 20px rgba(178, 58, 72, 0.5); }
            50% { transform: scale(1.05); box-shadow: 0 0 30px rgba(178, 58, 72, 0.8); }
            100% { transform: scale(1); box-shadow: 0 0 20px rgba(178, 58, 72, 0.5); }
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .gallery-item {
            border-radius: 15px;
            overflow: hidden;
            height: 300px;
            position: relative;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.5s ease, box-shadow 0.5s ease;
        }

        .gallery-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.5);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            object-position: center;
             background: #0D0D0D;
            transition: transform 0.5s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        .gallery-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(13, 13, 13, 0.8);
            padding: 15px;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .gallery-item:hover .gallery-caption {
            transform: translateY(0);
        }

        .countdown {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .countdown-item {
            background: rgba(139, 30, 63, 0.3);
            padding: 15px;
            border-radius: 15px;
            min-width: 80px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(178, 58, 72, 0.3);
        }

        .countdown-number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--light-pink);
        }

        .countdown-label {
            font-size: 0.9rem;
            margin-top: 5px;
            color: #ccc;
        }

        .memory-section {
            background: rgba(139, 30, 63, 0.1);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            border-left: 5px solid var(--medium-pink);
        }

        .nav-dots {
            position: fixed;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
        }

        .nav-dot {
            display: block;
            width: 12px;
            height: 12px;
            margin: 15px 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .nav-dot.active {
            background: var(--medium-pink);
            transform: scale(1.5);
        }

        .love-letter {
            background: rgba(13, 13, 13, 0.7);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            border: 1px solid rgba(178, 58, 72, 0.3);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            line-height: 1.8;
        }

        .love-letter p {
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
        }

        .signature {
            text-align: right;
            font-style: italic;
            margin-top: 2rem;
            color: var(--light-pink);
            font-size: 1.3rem;
        }

        .mobile-warning {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(139, 30, 63, 0.9);
            color: white;
            padding: 10px;
            text-align: center;
            z-index: 1000;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            section {
                padding: 1rem 0;
                min-height: 100vh;
            }
            
            .hero {
                padding: 1.5rem;
            }
            
            .photo-frame {
                width: 200px;
                height: 200px;
            }
            
            .countdown-item {
                min-width: 70px;
                padding: 10px;
            }
            
            .countdown-number {
                font-size: 1.5rem;
            }
            
            .gallery {
                grid-template-columns: 1fr;
            }
            
            .gallery-item {
                height: 250px;
            }
            
            .memory-section, .love-letter {
                padding: 1.5rem;
            }
            
            .nav-dots {
                display: none;
            }
            
            .mobile-warning {
                display: block;
            }
        }

        @media (max-width: 480px) {
            .photo-frame {
                width: 150px;
                height: 150px;
            }
            
            .countdown {
                gap: 10px;
            }
            
            .countdown-item {
                min-width: 60px;
                padding: 8px;
            }
            
            .countdown-number {
                font-size: 1.3rem;
            }
            
            .interactive-btn {
                padding: 12px 25px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="mobile-warning" id="mobileWarning">
        Toque na tela para ativar os efeitos especiais
    </div>

    <div class="photo-background" id="photoBackground">
        <!-- As fotos serão inseridas via JavaScript -->
    </div>

    <div class="nav-dots" id="navDots">
        <!-- Os dots de navegação serão inseridos via JavaScript -->
    </div>

    <div class="container">
        <section id="hero" class="visible">
            <div class="hero">
                <div class="photo-frame">
                    <!-- Substitua pelo caminho da foto principal de vocês -->
                    <img src="https://i.ibb.co/S4K7Lnn4/IMG-20220110-WA0006.jpg" alt="IMG-20220110-WA0006" border="0" alt="Nossa Foto">
                </div>
                
                <h1>Feliz Aniversário atrasado Meu Amor!:/</h1>
                
                <div class="message">
                    <p>Dia 22 de outubro é um dia especial porque o mundo ganhou você. E eu ganhei do mundo por ter você cmg vida💕.</p>
                    <p>Cada momento ao seu lado é um presente que guardo com carinho no meu coração.</p>
                </div>

                <div class="countdown">
                    <div class="countdown-item">
                        <div class="countdown-number" id="days">0</div>
                        <div class="countdown-label">Dias</div>
                    </div>
                    <div class="countdown-item">
                        <div class="countdown-number" id="hours">0</div>
                        <div class="countdown-label">Horas</div>
                    </div>
                    <div class="countdown-item">
                        <div class="countdown-number" id="minutes">0</div>
                        <div class="countdown-label">Minutos</div>
                    </div>
                    <div class="countdown-item">
                        <div class="countdown-number" id="seconds">0</div>
                        <div class="countdown-label">Segundos</div>
                    </div>
                </div>

                <button class="interactive-btn" id="loveBtn">💖🎂</button>
                <div class="hidden-message" id="hiddenMessage">
                    <p>Você é uma pessoa  incrível. Cada dia ao seu lado é uma bênção que agradeço.</p>
                    <p>Obrigado por ser exatamente quem você é, essa pessoa pela qual me apaixonei :3.</p>
                </div>
            </div>
        </section>

        <section id="memories">
            <h2>Nossas Memórias</h2>
            
            <div class="memory-section">
                <p>Fiz esse site pra lembrar quanto tempo estamos juntos, é algo SÓ NOSSO, só nós tem a chave, não tem validade ou como perder, PRA SEMPRE ETERNIZADO NOSSO AMOR :3</p>
                
                <button class="interactive-btn" id="memoryBtn">um pequeno desabafo pro meu amor😓🌹</button>
                <div class="hidden-message" id="memoryMessage">
                    <p>Quero que saiba amor que por mais que eu não faça presentes fofos eu te amo muito vida, desculpa as vezes que eu não te presentiei com algo basico como flores ou chocolate, só quero ser diferente um pouco, quero fazer um presente que SÓ eu possa fazer pra você, por isso estudei programação, pra fazer esse site pra você e diferenciar do resto,não gosto de fazer ou ser que nem o resto, irei me esforçar mais vida pra dar ao meu amor tudo que ela merece e MUITO MAIS!!.</p>
                </div>
            </div>
            <div class="gallery">
                <div class="gallery-item">
                    <img src="https://i.postimg.cc/jqPnSXGw/teioeanaquartel.jpg" border="0" alt="Uma foto nossa que é minha favorita">
                    <div class="gallery-caption">Uma foto nossa que eu mais gosto🐱‍🏍💕</div>
                </div>
                <div class="gallery-item">
                    <img src="https://i.postimg.cc/jjDQgfCH/IMG-20210427-WA0018.jpg" alt="Memória 2">
                    <div class="gallery-caption">Começo do nosso amor💖</div>
                </div>
                <div class="gallery-item">
                    <img src="https://i.postimg.cc/LX6RFHKm/20230515-193017.jpg" alt="Memória 3">
                    <div class="gallery-caption">Cineminha :3🥡</div>
                </div>
                <div class="gallery-item">
                    <img src="https://i.postimg.cc/2ynf434Y/20230615-195316.jpg" alt="Memória 4">
                    <div class="gallery-caption">Momento tranquilo juntos🐱‍👤💖</div>
                </div>
            </div>
        </section>

        <section id="love-letter">
            <h2>Minha Carta Para Você</h2>
            
            <div class="love-letter">
                <p>Meu amor,</p>
                
                <p>Escrever estas palavras é tentar colocar em frases o que sinto por você - uma tarefa quase impossível, pois o que sinto transcende qualquer linguagem,tanto linguagem de programação tanto quanto linguagem "humana".</p>
                
                <p>Você chegou na minha vida do neida, trazendo diversão e mt amor. Com você, aprendi a dar o melhor de mim, até pq sei que não estou sozinho, sei que tem alguem me esperando em casa ou seja onde estiver, sempre será meu porto seguro,sinto por vc um amor incondicional🐱‍🏍💖.</p>
                
                <p>Seu sorriso é meu lugar favorito, seu abraço meu refúgio seguro, sua voz a melodia que acalma minha alma. Nos seus olhos encontro o meu porto seguro, o lugar onde posso ser completamente eu, sem medos ou reservas.</p>
                
                <p>Neste seu aniversário, desejo que você tenha tudo o que merece: felicidade em abundância(coisa que vc tem mt😈), saúde para desfrutar cada momento com nois, e a certeza de que é amada além da medida.</p>
                
                <p>Que possamos comemorar muitos outros aniversários juntos meu amor, construindo uma vida de memórias preciosas e momentos inesquecíveis.</p>
                
                <p>Te amo hoje, amanhã e sempre baby.</p>
                
                <div class="signature">Com todo meu amor,<br>teiofellas.py<br>yumi,paimon<br>tobi,frajola(pai)<br>gringo,ludmillo<br>robin,tonho<br>gorda,esmilinguido<br>lasanha,escaminha<br>tricoloar,paloma<br>rajadinho,oniguiri<br>garfild,morcego<br>negona,hulk,safira 💖💕❤<br><br><br><br><br>
    </div>
    </section>
    </div>

    <div class="music-control">
        <div class="music-info">
            <div class="song-title" id="songTitle">Música Romântica</div>
            <div class="time-display"><span id="currentTime">0:00</span> / <span id="totalTime">0:00</span></div>
        </div>
        <div class="progress-bar">
            <div class="progress" id="progress"></div>
        </div>
        <button class="interactive-btn" id="musicToggle">🔊 Reproduzir Música</button>
    </div>

    <audio id="backgroundMusic" loop preload="metadata">
    <!-- TESTE COM ESTE LINK - FUNCIONA 100% -->
    <source src="https://drive.google.com/file/d/16jHow3WTOsuWNgUl  oZAL_GaJYU9wmgzh/view?usp=sharing" type="audio/mpeg">
    Seu navegador não suporta o elemento de áudio.
</audio>

    <script>
        // Detectar se é mobile
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        
        // Criar corações caindo - versão otimizada para mobile
        function createHeart() {
            // Reduzir quantidade de corações em mobile para melhorar performance
            if (isMobile && Math.random() > 0.7) return;
            
            const heart = document.createElement('div');
            heart.classList.add('heart');
            
            // Tamanho aleatório
            const size = Math.random() * 20 + 10;
            heart.style.width = `${size}px`;
            heart.style.height = `${size}px`;
            
            // Posição aleatória no topo
            heart.style.left = Math.random() * 100 + 'vw';
            
            // Cor aleatória entre tons de rosa
            const colors = ['#8B1E3F', '#B23A48', '#FCB0B3', '#FF4D6D'];
            const color = colors[Math.floor(Math.random() * colors.length)];
            heart.style.backgroundColor = color;
            
            // Duração da animação aleatória
            const duration = Math.random() * 5 + 5;
            heart.style.animationDuration = `${duration}s`;
            
            document.body.appendChild(heart);
            
            // Remover o coração após a animação
            setTimeout(() => {
                if (heart.parentNode) {
                    heart.parentNode.removeChild(heart);
                }
            }, duration * 1000);
        }

        // Criar corações em intervalos regulares - ajustado para mobile
        let heartInterval = setInterval(createHeart, isMobile ? 800 : 400);

        // Controle de música
        const musicToggle = document.getElementById('musicToggle');
        const backgroundMusic = document.getElementById('backgroundMusic');
        const progress = document.getElementById('progress');
        const currentTime = document.getElementById('currentTime');
        const totalTime = document.getElementById('totalTime');
        const songTitle = document.getElementById('songTitle');
        
        // Atualizar barra de progresso e tempo
        backgroundMusic.addEventListener('loadedmetadata', () => {
            totalTime.textContent = formatTime(backgroundMusic.duration);
        });
        
        backgroundMusic.addEventListener('timeupdate', () => {
            const percent = (backgroundMusic.currentTime / backgroundMusic.duration) * 100;
            progress.style.width = percent + '%';
            currentTime.textContent = formatTime(backgroundMusic.currentTime);
        });
        
        function formatTime(seconds) {
            const min = Math.floor(seconds / 60);
            const sec = Math.floor(seconds % 60);
            return `${min}:${sec < 10 ? '0' : ''}${sec}`;
        }
        
        musicToggle.addEventListener('click', () => {
            if (backgroundMusic.paused) {
                backgroundMusic.play().then(() => {
                    musicToggle.textContent = '🔊 Pausar Música';
                    songTitle.textContent = 'Nossa Música Especial';
                    // Esconder aviso mobile após interação
                    document.getElementById('mobileWarning').style.display = 'none';
                }).catch(e => {
                    console.log('Erro ao reproduzir música:', e);
                    // Mostrar instrução para usuário
                    alert('Para reproduzir a música, toque em qualquer lugar da tela primeiro e depois no botão de música.');
                });
            } else {
                backgroundMusic.pause();
                musicToggle.textContent = '🔊 Reproduzir Música';
            }
        });

        // Botões interativos
        const loveBtn = document.getElementById('loveBtn');
        const hiddenMessage = document.getElementById('hiddenMessage');
        
        loveBtn.addEventListener('click', () => {
            hiddenMessage.style.display = hiddenMessage.style.display === 'block' ? 'none' : 'block';
            
            // Criar corações extras quando clicar
            for (let i = 0; i < (isMobile ? 8 : 15); i++) {
                setTimeout(createHeart, i * 100);
            }
        });

        const memoryBtn = document.getElementById('memoryBtn');
        const memoryMessage = document.getElementById('memoryMessage');
        
        memoryBtn.addEventListener('click', () => {
            memoryMessage.style.display = memoryMessage.style.display === 'block' ? 'none' : 'block';
        });

        // Slideshow de fotos no fundo
        const photoBackground = document.getElementById('photoBackground');
        
        // URLs das fotos - substitua pelas URLs reais das suas fotos
        const photos = [
            'https://i.postimg.cc/fyXQskL6/20240411-115324.avif',
            'https://i.postimg.cc/j5PMdfHX/20241011-142621.avif',
            'https://i.postimg.cc/HLCc17kQ/IMG-20220110-WA0007.jpg'
        ];
        
        // Criar elementos de slide para cada foto
        photos.forEach((photo, index) => {
            const slide = document.createElement('div');
            slide.classList.add('photo-slide');
            slide.style.backgroundImage = `url(${photo})`;
            if (index === 0) slide.style.opacity = 1;
            photoBackground.appendChild(slide);
        });
        
        // Trocar slides a cada 6 segundos
        let currentSlide = 0;
        const slides = document.querySelectorAll('.photo-slide');
        
        setInterval(() => {
            slides[currentSlide].style.opacity = 0;
            currentSlide = (currentSlide + 1) % slides.length;
            slides[currentSlide].style.opacity = 1;
        }, 5000);

        // Contador regressivo (ajuste a data do aniversário)
       function updateCountdown() {
    // Data do início: 20 de Maio de 2021
    const startDate = new Date(2021, 4, 20);
    const now = new Date();
    const diff = now - startDate;
    
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((diff % (1000 * 60)) / 1000);
    
    // VERIFICA SE OS ELEMENTOS EXISTEM ANTES DE ATUALIZAR
    const daysElement = document.getElementById('days');
    const hoursElement = document.getElementById('hours');
    const minutesElement = document.getElementById('minutes');
    const secondsElement = document.getElementById('seconds');
    
    if (daysElement) daysElement.textContent = days;
    if (hoursElement) hoursElement.textContent = hours;
    if (minutesElement) minutesElement.textContent = minutes;
    if (secondsElement) secondsElement.textContent = seconds;
}
        
        setInterval(updateCountdown, 1000);
        updateCountdown();

        // Navegação por seções
        const sections = document.querySelectorAll('section');
        const navDots = document.getElementById('navDots');
        
        // Criar dots de navegação apenas se não for mobile
        if (!isMobile) {
            sections.forEach((section, index) => {
                const dot = document.createElement('div');
                dot.classList.add('nav-dot');
                if (index === 0) dot.classList.add('active');
                dot.addEventListener('click', () => {
                    section.scrollIntoView({ behavior: 'smooth' });
                });
                navDots.appendChild(dot);
            });
        }
        
        // Observador de interseção para ativar seções e dots
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    
                    // Atualizar dot ativo (apenas se não for mobile)
                    if (!isMobile) {
                        const index = Array.from(sections).indexOf(entry.target);
                        document.querySelectorAll('.nav-dot').forEach((dot, i) => {
                            if (i === index) {
                                dot.classList.add('active');
                            } else {
                                dot.classList.remove('active');
                            }
                        });
                    }
                }
            });
        }, { threshold: 0.3 }); // Reduzido o threshold para mobile
        
        sections.forEach(section => {
            observer.observe(section);
        });

        // Iniciar música automaticamente (com interação do usuário)
        let audioInitialized = false;
        
        function initAudio() {
            if (!audioInitialized) {
                // Tentar reproduzir música em background
                backgroundMusic.volume = 0.7;
                
                // Esconder aviso mobile
                document.getElementById('mobileWarning').style.display = 'none';
                
                audioInitialized = true;
            }
        }
        
        // Permitir interação do usuário para iniciar áudio
        document.addEventListener('click', initAudio);
        document.addEventListener('touchstart', initAudio);
        
        // Pausar animações quando a página não está visível (para economizar bateria)
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                clearInterval(heartInterval);
            } else {
                heartInterval = setInterval(createHeart, isMobile ? 800 : 400);
            }
        });
    </script>
</body>
</html>
